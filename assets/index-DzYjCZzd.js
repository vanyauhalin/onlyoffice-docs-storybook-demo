const A=function(n){if(n==null)return F;if(typeof n=="function")return g(n);if(typeof n=="object")return Array.isArray(n)?x(n):E(n);if(typeof n=="string")return N(n);throw new Error("Expected function, string, or object as test")};function x(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=A(n[t]);return g(r);function r(...c){let o=-1;for(;++o<e.length;)if(e[o].apply(this,c))return!0;return!1}}function E(n){const e=n;return g(t);function t(r){const c=r;let o;for(o in n)if(c[o]!==e[o])return!1;return!0}}function N(n){return g(e);function e(t){return t&&t.type===n}}function g(n){return e;function e(t,r,c){return!!(P(t)&&n.call(this,t,typeof r=="number"?r:void 0,c||void 0))}}function F(){return!0}function P(n){return n!==null&&typeof n=="object"&&"type"in n}const j=[],I=!0,k=!1,T="skip";function B(n,e,t,r){let c;typeof e=="function"&&typeof t!="function"?(r=t,t=e):c=e;const o=A(c),d=r?-1:1;s(n,void 0,[])();function s(f,h,i){const l=f&&typeof f=="object"?f:{};if(typeof l.type=="string"){const u=typeof l.tagName=="string"?l.tagName:typeof l.name=="string"?l.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(f.type+(u?"<"+u+">":""))+")"})}return m;function m(){let u=j,p,y,b;if((!e||o(f,h,i[i.length-1]||void 0))&&(u=C(t(f,i)),u[0]===k))return u;if("children"in f&&f.children){const a=f;if(a.children&&u[0]!==T)for(y=(r?a.children.length:-1)+d,b=i.concat(a);y>-1&&y<a.children.length;){const w=a.children[y];if(p=s(w,y,b)(),p[0]===k)return p;y=typeof p[1]=="number"?p[1]:y+d}}return u}}}function C(n){return Array.isArray(n)?n:typeof n=="number"?[I,n]:n==null?j:[n]}function K(n,e,t,r){let c,o,d;typeof e=="function"&&typeof t!="function"?(o=void 0,d=e,c=t):(o=e,d=t,c=r),B(n,o,s,c);function s(f,h){const i=h[h.length-1],l=i?i.children.indexOf(f):void 0;return d(f,l,i)}}export{k as E,A as c,K as v};
